# 基于TCP的服务端与客户端（1）

## 实现基于TCP的服务端/客户端

1. 进入等待连接请求状态（调用完listen之后）：

 - 只有服务端调用完listen之后，客户端connect才有效；
 ![等待连接请求状态](等待连接请求状态.png)
 
 - listen函数的作用：
 ![listen函数作用](listen函数作用.png)
 
2. 受理客户端连接请求：
 
 - 服务端套接字做门卫，用来接收请求，
 新建套接字（通过accept函数实现）用来和客户端连接进行数据交互：
 ![受理客户端连接请求](受理客户端连接请求.png) 
 
 - accept受理连接请求的流程：
 服务端会单独创建新的套接字与客户端套接字进行数据交互
 ![受理连接请求状态](受理连接请求状态.png)
 
3. TCP客户端的默认函数调用顺序

 - 客户端调用connect函数的返回条件：
 ![客户端连接请求](客户端连接请求.png)
 
 - 客户端套接字的地址信息：
 ![客户端套接字的地址信息](客户端套接字的地址信息.png)

4. 基于TCP的服务端/客户端函数调用关系:

 - 基于TCP的服务端/客户端函数调用关系:
 ![基于TCP的服务端/客户端函数调用关系](基于TCP的服务端与客户端函数调用关系.png)
 